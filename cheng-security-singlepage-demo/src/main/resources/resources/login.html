<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Login</title>
</head>
<body>
	<div>
		<fieldset>
			<legend>Sign In</legend>
			<em>${error}</em>
			<form id="sign_in_form" action="${request.contextPath}/security-auth" method="post">
				<div>
					<label for="username">User Name:</label>
					<input id="username" name="username" value="${username}" />
				</div>
				<div>
					<label for="password">Password:</label>
					<input id="password" name="password" type="password" />
				</div>
				<button>Sign In</button>
				<!--  type="button" onclick="SignInModel.signIn()" -->
			</form>
		</fieldset>
	</div>
	<script type="text/javascript" src="${request.contextPath}/jquery-3.4.1.js"></script>
	<script type="text/javascript">
	$.ajaxSetup({
		error : function(xhr, status, error) {
			console.info(xhr.responseText);
		}
	});
	var SignInModel = (function(){
		return {
			signIn : function() {
				var params = {
						username : $('#username').val(),
						password : $('#password').val()
				};
				$.post('${request.contextPath}/security-auth', params, function(d) {
					window.location.href = '${request.contextPath}/index';
				});
			}
		}
	})();
	</script>
</body>
</html>